@fortawesome:registry=https://npm.fontawesome.com/
//npm.fontawesome.com/:_authToken=0F92586C-4EE6-4D6C-8954-0566A10679DB


# ==============================
# 让 node_modules 使用“传统结构”
# ==============================
# 默认情况下，pnpm 会把依赖安装成嵌套形式：
#   node_modules/.pnpm/react@18/node_modules/react
# 有些工具（vite、eslint、ts-node）查不到插件，性能也下降。
# hoisted 模式会把依赖提升到根目录：
#   node_modules/react
# 完全兼容 npm/yarn 的目录结构，同时内部仍使用 pnpm 的高性能硬链接。
node-linker=hoisted


# ==============================
# 优先使用本地缓存，不访问网络
# ==============================
# 每台设备（Mac、WSL、Linux）都有自己的本地 pnpm store。
# 只要 store 里有依赖，就不会再联网下载。
# 优点：
#   - 极速安装（几秒）
#   - 多设备切换非常快
#   - 不依赖网络
prefer-offline=true


# ==============================
# 把所有依赖提到 node_modules 根目录
# ==============================
# 某些开发工具要求依赖必须在 node_modules 顶层才能找到：
#   - eslint
#   - prettier
#   - vite
#   - tailwindcss
#   - webpack loaders
#   - jest
# 如果不 hoist，有可能出现“找不到插件”之类的模块解析问题。
# 在 NAS 映射目录 + node_modules 软链接的特殊场景里，这条能最大化兼容性。
shamefully-hoist=true


# ==============================
# 使用硬链接从 store 导入依赖（最高性能）
# ==============================
# pnpm 内部会把依赖的真实文件放在 store-dir 中。
# 然后通过硬链接把同一个文件指向多个项目。
# 这条设置显式启用硬链接：
#   - 减少磁盘占用（多个项目共享同一份依赖文件）
#   - 安装极快（创建指针，不复制文件）
#   - node_modules 分布在本地，不在 NAS，上千文件也几乎秒完成
package-import-method=hardlink


# ==============================
# 忽略 peerDependencies 的严格版本约束
# ==============================
# 很多前端库会报类似错误：
#   "requires a peer of eslint@>=8 but none was installed"
# 但实际上运行是没问题的。
# 禁用严格检查可以避免冲突，提升前端开发体验。
strict-peer-dependencies=false
